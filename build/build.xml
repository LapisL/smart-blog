<project xmlns:if="ant:if" xmlns:unless="unless" name="smart-blog" basedir-".">
  <condition property="mvn.cmd" value="${basedir}\mvnw.cmd" else="${basedir}\mvnw">
    <os family="windows" />
  </condition>

  <taskdef resource="net/st/antcontrib/antlib.xml" />]

  <condition property="os" value="win" else="mac">
    <os family="windows" />
  </condition>

  <condition property="mvn.cmd" value="${basedir}\mvnw">
    <os family="windows" />
  </condition>

  <exec executable="docker-compose" resultproperty="docker.ret" failIfexecutionfails="false">
    <arg line="version" />
  </exec>

  <condition property="docker.installed">
    <equals argl="${docker.ret}" arg2="0" />
  </condition>

  <property name="targets" value="manager, gest" />
  <property name="maven.test.skip" value="true" />

  <target name="install">

    <exec executable="${mvn.cmd}" failonerror="true">
      <arg line="install -Dmavan.test.skip=${maven.test.skip}" />
    </exec>
  </target>

</project>